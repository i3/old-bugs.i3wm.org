diff --git a/i3-config-wizard/main.c b/i3-config-wizard/main.c
index cdce065..edc8482 100644
--- a/i3-config-wizard/main.c
+++ b/i3-config-wizard/main.c
@@ -283,10 +283,11 @@ static void finish() {
 
     char *line = NULL;
     size_t len = 0;
-#if !defined(__APPLE__)
+#if defined(__APPLE__) || (defined(__FreeBSD__) && __FreeBSD_version < 800000)
+    bool head_of_file = true;
+#else
     ssize_t read;
 #endif
-    bool head_of_file = true;
 
     /* write a header about auto-generation to the output file */
     fputs("# This file has been auto-generated by i3-config-wizard(1).\n", ks_config);
@@ -296,7 +297,7 @@ static void finish() {
     fputs("# this file and re-run i3-config-wizard(1).\n", ks_config);
     fputs("#\n", ks_config);
 
-#if defined(__APPLE__)
+#if defined(__APPLE__) || (defined(__FreeBSD__) && __FreeBSD_version < 800000)
     while ((line = fgetln(kc_config, &len)) != NULL) {
 #else
     while ((read = getline(&line, &len, kc_config)) != -1) {
